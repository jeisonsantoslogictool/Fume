@* Botón flotante para contacto por WhatsApp *@
<div class="whatsapp-float">
    <MudTooltip Text="Solicitar servicios o cotizaciones" Placement="MudBlazor.Placement.Left">
        <MudFab Color="Color.Success"
                StartIcon="@Icons.Custom.Brands.WhatsApp"
                Size="Size.Large"
                Class="whatsapp-button"
                OnClick="@OpenWhatsApp" />
    </MudTooltip>
</div>

@code {
    [Parameter]
    public string PhoneNumber { get; set; } = "18095776975";

    [Parameter]
    public string Message { get; set; } = "Hola, me gustaría solicitar información sobre servicios o cotizaciones. ¿Podrías ayudarme?";

    [Inject]
    private IJSRuntime JS { get; set; } = default!;

    private async Task OpenWhatsApp()
    {
        var encodedMessage = Uri.EscapeDataString(Message);
        var whatsappUrl = $"https://wa.me/{PhoneNumber}?text={encodedMessage}";

        try
        {
            await JS.InvokeVoidAsync("openWhatsAppWindow", whatsappUrl);
        }
        catch (Exception ex)
        {
            Console.WriteLine($"Error: {ex.Message}");
        }
    }
}
