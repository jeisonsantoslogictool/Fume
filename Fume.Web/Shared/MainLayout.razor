@inherits LayoutComponentBase
@inject NavigationManager navigationManager
<MudThemeProvider />
<MudDialogProvider />
<MudSnackbarProvider />

<MudLayout>
    <MudAppBar Elevation="2" Dense="true" Color="Color.Info">
        <AuthorizeView Roles="Admin">
            <Authorized>
                <MudIconButton Icon="@Icons.Material.Filled.Menu" Color="Color.Inherit" Edge="Edge.Start" OnClick="@((e) => DrawerToggle())" />
            </Authorized>
        </AuthorizeView>
        <div class="logo-section">
            <img src="/Logo.png" alt="Fume Logo" @onclick="@(() => navigationManager.NavigateTo("/"))" style="border-radius: 45px; height:42px !important" />
        </div>
      @*   <MudText Typo="Typo.h6" Class="ml-3">Fume Marketplace</MudText> *@
        <MudSpacer />
        <AuthLinks />
        <MudIconButton Icon="@Icons.Material.Filled.Info" Color="Color.Inherit" Href="https://onixbusiness.com" Target="_blank" />
    </MudAppBar>

    <AuthorizeView Roles="Admin">
        <Authorized>
            <MudDrawer @bind-Open="_drawerOpen"
                       Elevation="2"
                       ClipMode="DrawerClipMode.Always"
                       Variant="@DrawerVariant.Mini"
                       OpenMiniOnHover="true">
                <MudDrawerHeader>
                    <MudText Typo="Typo.h6" Color="Color.Info">
                        <MudIcon Icon="@Icons.Material.Filled.ShoppingCart" Class="mr-2" />
                        Fume
                    </MudText>
                </MudDrawerHeader>
                <NavMenu />
            </MudDrawer>
        </Authorized>
    </AuthorizeView>

    <MudMainContent Class="pt-4">
        <MudContainer MaxWidth="MaxWidth.ExtraLarge" Class="my-4" Style="margin-top: 50px !important;">
            @Body
        </MudContainer>
    </MudMainContent>
</MudLayout>

@code {
    private bool _drawerOpen = true;

    private void DrawerToggle()
    {
        _drawerOpen = !_drawerOpen;
    }
}
